<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Goat vs Zombie</title>
<style>
/* Add your CSS styles here */
.health-bar {
  background-color: green;
  height: 20px;
  width: 100%;
  margin-bottom: 5px;
}

.message-bubble {
  border: 1px solid black;
  padding: 5px;
  width: 200px;
  margin: 10px 0;
}
</style>
</head>
<body>

<!-- HTML content for the game UI -->
<div id="game-container">
  <div id="goat-container">
    <img src="goat.png" class="goat-image" alt="Goat">
    <div id="goat-health-bar" class="health-bar"></div>
    <p id="goat-health" class="health-text">Health: 100</p>
    <p id="goat-message" class="message-bubble"></p>
  </div>
  <div id="zombie-container">
    <img src="zombie.png" class="zombie-image" alt="Zombie">
    <div id="zombie-health-bar" class="health-bar"></div>
    <p id="zombie-health" class="health-text">Health: 100</p>
    <p id="zombie-message" class="message-bubble"></p>
  </div>
</div>

<script>
// Game variables
var goatHealth = 100;
var zombieHealth = 100;

// DOM elements
var goatHealthElement = document.getElementById("goat-health");
var goatHealthBarElement = document.getElementById("goat-health-bar");
var goatMessageElement = document.getElementById("goat-message");

var zombieHealthElement = document.getElementById("zombie-health");
var zombieHealthBarElement = document.getElementById("zombie-health-bar");
var zombieMessageElement = document.getElementById("zombie-message");

// Goat's attacks
var goatAttacks = [
  {
    name: "BAAA Strike",
    power: 5,
    accuracy: 0.9,
    description: "Unleashes a powerful BAAA strike."
  },
  {
    name: "Head Butt",
    power: 3,
    accuracy: 0.8,
    description: "Charges forward and headbutts opponent."
  },
  {
    name: "Horn Blade",
    power: 9,
    accuracy: 0.4,
    description: "Slashes with sharp and pointy horns."
  },
  {
    name: "Milk Jet",
    power: 7,
    accuracy: 0.9,
    description: "Rushes with a high-speed milk jet."
  },
  {
    name: "Horn Slam",
    power: 15,
    accuracy: 0.5,
    description: "Picks up opponent with horns and throws them in the air."
  }
];

// Zombie's attacks
var zombieAttacks = [
  {
    name: "Bite",
    power: 3,
    accuracy: 0.9,
    description: "Stuns opponent with toxic zombie bite."
  },
  {
    name: "Zombie Puke",
    power: 9,
    accuracy: 0.4,
    description: "Spits poisonous vomit on opponent."
  },
  {
    name: "Hoof Stomp",
    power: 5,
    accuracy: 0.7,
    description: "Stomps the opponent with strong hooves."
  },
  {
    name: "Milk Gun",
    power: 15,
    accuracy: 0.5,
    description: "Shoots acidic spoiled milk at the opponent."
  },
  {
    name: "Tackle",
    power: 6,
    accuracy: 0.9,
    description: "Charges forward to tackle the opponent."
  }
];

// Function to update health text and health bar
function updateHealth(character, healthElement, healthBarElement) {
  healthElement.textContent = "Health: " + character.health;
  healthBarElement.style.width = character.health + "%";
}

// Function to update the message bubble
function updateMessageBubble(messageElement, message) {
  messageElement.textContent = message;
}

// Function to handle goat's attack
function goatAttack() {
  var attackIndex = Math.floor(Math.random() * goatAttacks.length);
  var attack = goatAttacks[attackIndex];
  var damage = Math.floor(Math.random() * attack.power) + 1; // Random damage between 1 and attack power
  var hit = Math.random() <= attack.accuracy; // Check if the attack hits

  if (hit) {
    zombieHealth -= damage;
    if (zombieHealth < 0) {
      zombieHealth = 0; // Ensure health doesn't go below 0
    }
    updateHealth({ health: zombieHealth }, zombieHealthElement, zombieHealthBarElement);
    updateMessageBubble(goatMessageElement, "Goat attacks with " + attack.name + " and hits for " + damage + " damage!");
    checkBattleStatus();
  } else {
    updateMessageBubble(goatMessageElement, "Goat's attack with " + attack.name + " missed!");
    checkBattleStatus();
  }
}

// Function to handle zombie's attack
function zombieAttack() {
  var attackIndex = Math.floor(Math.random() * zombieAttacks.length);
  var attack = zombieAttacks[attackIndex];
  var damage = Math.floor(Math.random() * attack.power) + 1; // Random damage between 1 and attack power
  var hit = Math.random() <= attack.accuracy; // Check if the attack hits

  if (hit) {
    goatHealth -= damage;
    if (goatHealth < 0) {
      goatHealth = 0; // Ensure health doesn't go below 0
    }
    updateHealth({ health: goatHealth }, goatHealthElement, goatHealthBarElement);
    updateMessageBubble(zombieMessageElement, "Zombie attacks with " + attack.name + " and hits for " + damage + " damage!");
    checkBattleStatus();
  } else {
    updateMessageBubble(zombieMessageElement, "Zombie's attack with " + attack.name + " missed!");
    checkBattleStatus();
  }
}

// Function to check the battle status
function checkBattleStatus() {
  if (goatHealth <= 0) {
    endBattle("zombie"); // Zombie wins
  } else if (zombieHealth <= 0) {
    endBattle("goat"); // Goat wins
  } else {
    setTimeout(function() {
      Math.random() < 0.5 ? goatAttack() : zombieAttack(); // Randomly choose the attacker for the next turn
    }, 2000); // Delay between attacks (2 seconds)
  }
}

// Function to end the battle
function endBattle(winner) {
  if (winner === "goat") {
    updateMessageBubble(goatMessageElement, "YOU WIN!");
    updateMessageBubble(zombieMessageElement, "Goat triumphs!");
  } else if (winner === "zombie") {
    updateMessageBubble(goatMessageElement, "YOU LOSE!");
    updateMessageBubble(zombieMessageElement, "Zombie wins!");
  }
}

// Initialize the game
updateHealth({ health: goatHealth }, goatHealthElement, goatHealthBarElement);
updateHealth({ health: zombieHealth }, zombieHealthElement, zombieHealthBarElement);
setTimeout(goatAttack, 1000); // Start with goat's attack after 1 second
</script>

</body>
</html>
